<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>new target属性</title>
</head>
<body>
    <script type="text/javascript">
        //new是从构造函数生成实例的命令，ES6为new命令引入了new.target属性
        //(在构造方法中)返回new命令所左右的构造函数。如果构造函数不是通过new调用的，那么new.target会返回undefined,因此这个属性用于确定构造方法是如何被调用的
        function Person(name) {
            if(new.target !== undefined) {
                this.name = name;
            }else{
                throw new Error('必须使用new关键字');
            }
        }


        class Rectangle {
            constructor(length, width) {
                console.log(new.target === Rectangle);
                this.length = length;
                this.width = width;
            }
        }

        var obj = new Rectangle(3, 4);


        //子类继承父类时，new.target会返回子类

        class Square extends Rectangle {
            constructor(length, width){
                super(length, width);
            }
        }

        new Square();//此处的new.target会返回子类

        
    </script>
</body>
</html>